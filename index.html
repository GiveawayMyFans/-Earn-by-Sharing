<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Langapay Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    .card {
      border: none;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .balance {
      font-size: 2rem;
      font-weight: bold;
      color: #198754;
    }
    .referral-section input {
      text-align: center;
    }
    .referral-count, .earnings {
      font-size: 1.2rem;
    }
    .btn-copy {
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="container py-4">
    <div class="text-center mb-4">
      <h2 class="fw-bold text-primary">Langapay Dashboard</h2>
      <p>Track your referrals and earnings.</p>
    </div><div class="card p-4 mb-3">
  <h5>Account Balance</h5>
  <p class="balance">$<span id="earnings">0</span></p>
</div>

<div class="card p-4 mb-3">
  <h5>Your Referral Link</h5>
  <div class="referral-section">
    <input type="text" id="refLink" class="form-control mb-2" readonly>
    <button class="btn btn-primary btn-copy" onclick="copyReferral()">Copy Link</button>
    <p class="mt-2">Share this link with your friends. Earn $5 for every 5 referrals!</p>
  </div>
</div>

<div class="card p-4">
  <p class="referral-count">Referrals: <span id="clicks">0</span></p>
  <button class="btn btn-success" onclick="withdraw()">Withdraw</button>
  <p id="withdraw-msg" class="text-success mt-2 d-none">Withdrawal Requested!</p>
</div>

  </div>  <script>
    const domain = "https://waymyfans.github.io"; // Replace with your domain if different

    function generateId() {
      return localStorage.getItem("refID") || createId();
    }

    function createId() {
      const id = Math.random().toString(36).substring(2, 8);
      localStorage.setItem("refID", id);
      return id;
    }

    const referralLink = ${domain}?ref=${generateId()};
    document.getElementById("refLink").value = referralLink;

    function copyReferral() {
      const copyText = document.getElementById("refLink");
      copyText.select();
      copyText.setSelectionRange(0, 99999);
      document.execCommand("copy");
      alert("Referral link copied!");
    }

    function updateDashboard() {
      const clicks = parseInt(localStorage.getItem("clicks") || "0");
      const earnings = Math.floor(clicks / 5) * 5;
      document.getElementById("clicks").innerText = clicks;
      document.getElementById("earnings").innerText = earnings;
    }

    function simulateClick() {
      let clicks = parseInt(localStorage.getItem("clicks") || "0");
      clicks++;
      localStorage.setItem("clicks", clicks);
      updateDashboard();
    }

    function withdraw() {
      const clicks = parseInt(localStorage.getItem("clicks") || "0");
      if (clicks >= 5) {
        document.getElementById("withdraw-msg").classList.remove("d-none");
      } else {
        alert("You need at least 5 referrals to withdraw.");
      }
    }

    updateDashboard();

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.has("ref")) {
      simulateClick();
    }
  </script></body>
</html>
